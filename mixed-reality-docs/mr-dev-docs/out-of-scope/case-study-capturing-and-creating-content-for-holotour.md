---
title: 사례 연구-HoloTour
description: HoloTour 응용 프로그램 사례 연구를 살펴보고 콘텐츠를 캡처하고 만드는 과정을 안내 합니다.
author: dannyaskew
ms.author: daaske
ms.date: 03/21/2018
ms.topic: article
keywords: HoloTour, HoloLens, Windows Mixed Reality
ms.openlocfilehash: 7e9bc2078e90b0f0cd98cf0612b583c06b2d51b400d682d3aff71e59eed620a4
ms.sourcegitcommit: a1c086aa83d381129e62f9d8942f0fc889ffcab0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/05/2021
ms.locfileid: "115202246"
---
# <a name="case-study---holotour"></a>사례 연구-HoloTour

Microsoft HoloLens HoloTour는 전 세계 아이콘 위치에 대 한 모던 3d 개인 투어를 제공 합니다. 이 프로젝트에서 작업 하는 디자이너, 아티스트, 생산자, 오디오 디자이너 및 개발자가 발견 되 면 잘 알려진 위치에 대 한 convincingly 실제 3D 렌더링을 만드는 것은 독창적인 및 기술적 wizardry의 고유한 blend를 사용 합니다. 이 사례 연구에서는 HoloTour에 사용 되는 콘텐츠를 캡처하고 만드는 과정을 안내 합니다.

## <a name="the-tech"></a>기술

HoloTour를 사용 하 여 사용자는 자신의 거실에서 바로, 페루의 Machu 좋아요, 현대 [Piazza Navona](https://en.wikipedia.org/wiki/Piazza_Navona) 의 [유적](https://en.wikipedia.org/wiki/Machu_Picchu) 등 세계에서 가장 놀라운 대상 중 일부를 방문할 수 있게 되었습니다. Microsoft 팀은 "HoloTour"에 대 한 목표를 달성 했습니다. 사진이 나 비디오 이상의 환경을 제공 해야 합니다. HoloLens의 고유한 표시, 추적 및 오디오 기술을 활용 하 여 사용자를 다른 위치로 전송할 수 있습니다. 방문한 모든 위치의 위권, 사운드 및 3 차원 기 하 도형을 캡처하고 앱 내에서 다시 만들어야 합니다.

이렇게 하려면 방향성 오디오 캡처가 있는 360 ° 카메라 rig가 필요 합니다. 중철 아티팩트를 최소화 하기 위해 카메라를 가까이 배치 해야 하는 HoloLens 경우에는 매우 높은 해상도로 캡처해야 하므로 푸티지가 선명 하 게 표시 됩니다. 수평 뿐만 아니라 위와 아래에 있는 전체 구면 적용을 원했습니다. 또한 rig는 전 세계 전체를 사용할 수 있도록 이식 가능 해야 합니다. 제공 되는 무료 옵션을 평가 하 고 해결, 비용 또는 크기 때문에 비전을 실현할 만큼 충분 하지 않은 것으로 인식 했습니다. 요구를 충족 하는 카메라 rig를 찾을 수 없는 경우에는 직접 구축 해야 합니다.

### <a name="building-the-rig"></a>Rig 빌드

집어넣었을, Velcro, 덕트 테이프 및 14 GoPro 카메라에서 만든 첫 번째 버전은 매우. 낮은 종료 솔루션에서 사용자 지정 제조 된 rig까지 모든 항목을 검토 한 후에는 GoPro 카메라가 작고 경제적 이며 사용 하기 쉬운 메모리 저장소가 있기 때문에 궁극적으로 가장 적합 한 옵션 이었습니다. 작은 폼 팩터는 카메라를 긴밀 하 게 가깝게 두는 것이 가능 하기 때문에 특히, 카메라 간의 거리가 작을수록 중철 아티팩트가 작아집니다. 고유한 카메라 정렬을 통해 카메라를 지능적으로 정렬 하 고 중철 프로세스 중에 일부 아티팩트를 원활 하 게 조정할 수 있도록 전체 구 범위 *와* 충분 한 중복을 얻을 수 있었습니다.

HoloLens에서 [공간 사운드](../design/spatial-sound.md) 기능을 활용 하는 것은 convincingly 실제 몰입 형 환경을 만드는 데 매우 중요 합니다. Tripod 카메라 아래에 4 개의 마이크 배열을 사용 했습니다 .이는 카메라 위치에서 4 방향으로 소리를 캡처하여 장면에서 공간 소리를 만들 수 있는 충분 한 정보를 제공 합니다.

![360 ° 카메라 rig는이 filming 외부에 있습니다.](images/camera-pantheon-200px.png)

360 ° 카메라 rig는이 filming 외부에 있습니다. 


Homemade rig는 시애틀 근처의 Rattlesnake로 이동 하 여 하이킹 맨 위에 있는 장면 캡처를 통해 테스트 했습니다. 결과는 현재 HoloTour에 표시 되는 위치 보다 훨씬 더 간단 하지만, 의도 한 대로 rig 디자인이 충분 하다는 것을 확신 했습니다.

Microsoft에서는 Velcro 및 집어넣었을에서 3D로 인쇄 된 카메라 하우징로 업그레이드 하 고, GoPro 카메라에 대 한 외부 배터리 팩을 구입 하 여 배터리 관리를 간소화 합니다. 그런 다음 더 광범위 한 테스트를 수행 하 여 샌프란시스코와 아이콘 골든 성문 브리지의 작은 투어를 만들어 샌프란시스코로 이동 했습니다. 이 카메라 rig는 HoloTour에서 방문 하는 위치의 대부분의 캡처에 사용 됩니다.

![360 ° 카메라 rig filming Machu](images/camera-machu-pichu-500px.png)

360 ° 카메라 rig filming Machu 

## <a name="behind-the-scenes"></a>배후 상황

Filming 하기 전에 가상 둘러보기에 포함 하려는 위치를 파악 해야 했습니다. 로마는 처음에는 제공 하고자 하는 첫 번째 위치이 고,이 위치를 사용 하 여 scouting를 미리 수행 하기로 결정 했습니다. 사용자가 고려 하 고 있는 사이트에 대 한 사용자의 방문을 위해 아티스트, 디자이너 및 생산자를 비롯 한 6 명의 팀을 보냈습니다. Filming에 대 한 나머지는 여행에 대 한 9 일 – 2.5입니다. (Machu에 대 한 microsoft는 정찰을 수행 하지 않도록 하 고, 미리 연구 하 여 filming에 대 한 몇 일의 버퍼를 예약 했습니다.)

로마에서 팀은 각 영역에 대 한 사진을 받고 관심 있는 팩트와 관심 있는 팩트와 crowds 또는 제한으로 인해 각 지점으로 이동 하는 것과 같은 실질적인 사항을 고려 하는 것이 좋습니다. 이는 휴가 처럼 들리지만 많은 작업을 수행 합니다. 매일 아침에 시작 된 일은 저녁까지 중단 되지 않습니다. 매일 밤에는 팀을 위해 시애틀에 다시 검토를 위해 푸티지가 업로드 되었습니다. 

![로마의 캡처 crew.](images/holotour-filming-crew-rome-500px.jpg) 

로마의 캡처 crew. 


정찰 병이 완료 된 후에는 실제 filming에 대 한 최종 요금제를 만들었습니다. 이 작업을 수행 하려면 영화에 대 한 자세한 목록, 날짜 및 시간을 입력 해야 합니다. 매일 해외 마다 비용이 많이 들기 때문에 이러한 여행을 효율적으로 수행 해야 합니다. 일출 전부터 전까지 모든 날에 사용할 수 있도록 로마에서 가이드와 처리기를 예약 했습니다. 정말 좋은 느낌을 얻기 위해 최상의 푸티지를 제공 해야 합니다.

### <a name="capturing-the-video"></a>비디오 캡처

캡처 중 몇 가지 간단한 작업을 수행 하면 사후 처리를 훨씬 더 쉽게 수행할 수 있습니다. 예를 들어 여러 카메라의 이미지를 함께 연결할 때마다 각 카메라에 약간 다른 보기가 있으므로 시각적 아티팩트가 발생 합니다. 더 가까이 있는 개체는 카메라에 대 한 것 이며, 뷰 간의 차이가 클수록 중철 아티팩트가 커집니다. 문제를 시각화 하는 쉬운 방법은 다음과 같습니다. 얼굴 앞에서 엄지 단추를 누르고 한 눈에 볼 수 있습니다. 이제 눈동자를 전환 합니다. 배경을 기준으로 이동 하는 것이 표시 됩니다. 얼굴에서 멀리 떨어진 곳을 보유 하 고 실험을 반복 하는 경우 엄지 단추는 아래로 이동 하는 것 처럼 보입니다. 이러한 분명 한 이동은 직면 한 중철 문제와 비슷합니다. 카메라와 마찬가지로 눈에는 거의 거리가 구분 되어 있으므로 정확히 동일한 이미지가 표시 되지 않습니다.

사후 처리에서이를 해결 하는 것 보다 filming 하는 동안에는 최악의 아티팩트를 방지 하는 것이 더 쉬울 것 이기 때문에, 사용자와 카메라에서 멀리 떨어져 있는 항목을 유지 하려고 시도 했습니다. 카메라에 대 한 큰 선택을 유지 하는 것은 가장 큰 문제 중 하나 이며, 이러한 문제를 해결 하기 위해 창조적으로 노력 해야 했습니다. 로컬 가이드를 사용 하는 것은 crowds를 관리 하는 데 큰 도움이 되었지만 기호 (간혹 작은 원추 또는 bean)를 사용 하 여 filming 공간을 매우 효율적으로 표시 하는 것이 좋습니다. 가장 좋은 캡처를 얻는 가장 좋은 방법은 대부분의 사용자가 표시 하기 전에 아침에 매우 빨리 도착 하는 것입니다.

일부 다른 유용한 캡처 기술은 기존 필름 관행에서 바로 제공 됩니다. 예를 들어 모든 카메라에서 색 수정 카드를 사용 하 고 나중에 필요할 수 있는 텍스처 및 개체에 대 한 참조 사진을 캡처 했습니다. 

![색 수정 카드를 표시 하는 Machu의 대략적인 잘라내기입니다.](images/rough-cut-machu-picchu-500px.png)

중철 하기 전에 푸티지에 대 한 대략적인 잘림입니다.

### <a name="processing-the-video"></a>비디오 처리

360 ° 콘텐츠 캡처는 첫 번째 단계입니다. HoloTour에 표시 되는 최종 자산으로 캡처된 원시 카메라 푸티지를 변환 하려면 많은 처리가 필요 합니다. 이전 집에는 14 개의 다른 카메라 피드에서 비디오를 촬영 하 고 최소한의 아티팩트를 갖춘 단일 연속 비디오로 전환 해야 했습니다. Microsoft의 예술 팀은 캡처된 푸티지를 결합 하 고 폴란드어 위해 많은 도구를 사용 했으며 최대한 많은 처리를 최적화 하기 위해 파이프라인을 개발 했습니다. 푸티지를 함께 연결 되어 하 고, 색을 수정한 후, 복잡 한 요소와 아티팩트를 제거 하거나, 수명 및 동작의 보조 포켓을 추가 하는 것이 좋습니다.

![중철 하기 전에 푸티지에 대 한 대략적인 잘림입니다.](images/rough-cut-pantheon-500px.png)

중철 하기 전에 푸티지에 대 한 대략적인 잘림입니다. 


비디오를 결합 하기 위해 [Ptgui](https://www.ptgui.com/) 라는 도구를 사용 하 여 처리 파이프라인에 통합 했습니다. 사후 처리의 일환으로 비디오에서 아직 프레임을 추출 하 고 해당 프레임 중 하나에 적합 한 중철 패턴을 찾았습니다. 그런 다음 해당 패턴을 작성 한 사용자 지정 플러그 인에 적용 했습니다. 그러면 After Effects에서 합성 하는 동안 비디오 아티스트가 중철 패턴을 직접 미세 조정 하 고 조정할 수 있습니다. 

![연결 되어을 보여 주는 PTGui의 스크린샷.](images/stitching-tool-pantheon-500px.png)

연결 되어을 보여 주는 PTGui의 스크린샷. 


### <a name="video-playback"></a>비디오 재생

푸티지의 처리가 완료 된 후에는 원활한 비디오가 있지만 8K 해상도를 상당히 합니다. 비디오를 디코딩하는 데는 비용이 많이 들고, 8K 비디오를 처리할 수 있는 컴퓨터가 거의 없기 때문에 다음 과제는 HoloLens에서이 비디오를 다시 재생 하는 방법을 찾을 수 있습니다. 사용자가 전체 비디오를 보는 것과 같은 느낌을 주는 동시에 디코딩 비용을 방지 하기 위해 다양 한 전략을 개발 했습니다.

가장 쉬운 최적화는 크게 변경 되지 않는 비디오의 일부를 디코딩하는 것을 방지 하는 것입니다. 동작이 거의 또는 전혀 없는 각 장면의 영역을 식별 하는 도구를 작성 했습니다. 이러한 지역에는 각 프레임의 비디오를 디코딩하는 대신 정적 이미지를 표시 합니다. 이러한 작업을 가능 하 게 하기 위해 큰 비디오를 훨씬 더 작은 청크로 나눕니다.

또한 디코딩 한 모든 픽셀이 가장 효과적으로 사용 되었는지 확인할 수 있습니다. 비디오 크기를 낮추는 압축 기술로 실험. 프로젝션 되는 기 하 도형의 다각형에 따라 비디오 영역을 분할 합니다. 다른 polygon의 양에 따라 UVs를 조정 하 고 비디오를 다시 압축 했습니다. 이 작업의 결과는 단일 8k 비디오로 시작 되는 항목이 장면에 올바르게 다시 프로젝션 될 때까지 거의 이해할 수 없는 여러 청크로 설정 된 것입니다. 질감 매핑 및 UV 압축을 이해 하는 게임 개발자의 경우이는 잘 느껴질 것입니다. 

![최적화 전에 표시 되는의 전체 뷰입니다.](images/pantheon-before-optimization-500px.png) 

최적화 전에 표시 되는의 전체 뷰입니다. 


![비디오 재생을 위해 처리 된의 오른쪽 절반입니다.](images/pantheon-process-video-playback-500px.png) 

비디오 재생을 위해 처리 된의 오른쪽 절반입니다. 


![최적화 및 압축 후의 단일 비디오 영역 예제입니다.](images/single-video-region-after-optimization-500px.png) 

최적화 및 압축 후의 단일 비디오 영역 예제입니다. 


자주 보고 하지 않는 비디오를 디코딩하는 것을 방지 하기 위해 사용 하는 또 다른 트릭을 사용 했습니다. HoloTour에 있는 동안에는 지정된 순간 전체 장면의 일부만 볼 수 있습니다. FOV(보기 필드) 내 또는 곧 외부에 있는 비디오만 디코딩합니다. 헤드를 회전할 때 이제 FOV에 있는 비디오의 영역을 재생하고 더 이상 내에 없는 비디오의 재생을 중지합니다. 대부분의 사람들은 이런 일이 발생한다는 것을 알지 못하지만, 빠르게 전환하면 비디오가 시작하는 데 1초 정도 걸리는 것을 볼 수 있습니다. 그 동안에는 정적 이미지가 표시되고 준비가 되면 비디오로 페이드백됩니다.

이 전략을 작동시키기 위해 광범위한 비디오 재생 시스템을 개발했습니다. 비디오 전환을 매우 효율적으로 만들기 위해 낮은 수준의 재생 코드를 최적화했습니다. 또한 언제든지 비디오로 신속하게 전환할 수 있도록 특수한 방법으로 비디오를 인코딩해야 했습니다. 이 재생 파이프라인에는 상당한 개발 시간이 소요되어 단계별로 구현했습니다. 효율성이 떨어지지만 디자이너와 디자이너가 환경을 작업할 수 있는 간단한 시스템으로 시작하여 최종 품질 표시줄에서 배송할 수 있는 보다 강력한 재생 시스템으로 천천히 개선했습니다. 이 최종 시스템에는 장면 내에서 비디오를 설정하고 재생 엔진을 모니터링하기 위해 Unity 내에서 만든 사용자 지정 도구가 있었습니다.

### <a name="recreating-near-space-objects-in-3d"></a>3D에서 가까운 공간 개체 다시 만들기

비디오는 HoloTour에서 볼 수 있는 대부분의 내용을 구성하지만, Piazza Nav 실행의 그림, Pantheon 외부의 장면 또는 항공 장면을 위해 서 있는 열기구와 같이 가까운 곳에 표시되는 3D 개체가 많이 있습니다. 이러한 3D 개체는 인간 깊이 인식이 매우 뛰어나지만 멀리 떨어져 있지 않기 때문에 중요합니다. 멀리서 비디오를 볼 수 있지만 사용자가 자신의 공간을 둘러보고 실제로 있는 것처럼 느낄 수 있도록 하려면 주변 개체에 깊이가 필요합니다. 이 기술은 자연사 유학에서 볼 수 있는 것과 비슷합니다. 전경에 물리적 조경, 동물 및 동물 표본이 있는 다이오라마를 그림으로 표시하지만, 배경에는 잘 마스킹된 무광택 그림으로 내보낸다.

일부 개체는 환경을 개선하기 위해 만들고 장면에 추가한 단순한 3D 자산입니다. 그림과 열기구는 우리가 촬영할 때 존재하지 않았기 때문에 이 범주에 속합니다. 게임 자산과 마찬가지로, 팀의 3D 팀원이 만들고 질감을 적절하게 했습니다. 이러한 내용을 여러분이 서 있는 위치 근처에 배치하고, 게임 엔진이 두 HoloLens 디스플레이로 렌더링하여 3D 개체로 표시할 수 있습니다.

Pantheon 외부의 검색과 같은 다른 자산은 비디오를 녹화하는 위치에 존재하는 실제 개체이지만, 이러한 개체를 비디오에서 3D로 가져오려면 여러 가지 작업을 해야 합니다.

먼저 각 개체에 대한 추가 정보가 필요합니다. 촬영 위치에 있는 동안 팀은 이러한 개체에 대한 많은 참조 장면을 캡처하여 질감을 정확하게 다시 만들기에 충분한 세부 이미지를 갖출 수 있도록 했습니다. 또한 팀은 수십 개의 2D 이미지에서 3D 모델을 생성하여 완벽한 규모로 개체의 대략적인 모델을 제공하는 [사진 측량](https://en.wikipedia.org/wiki/Photogrammetry) 검사도 수행했습니다.

장면을 처리할 때 나중에 3D 표현으로 대체될 개체가 비디오에서 제거됩니다. 3D 자산은 사진 측량 모델을 기반으로 하지만, 우리 아티스트가 정리하고 간소화했습니다. 일부 개체의 경우 비디오의 일부(예: 폭음의 물 질감)를 사용할 수 있지만, 이제 대부분 3D 개체가 되었으며, 이를 통해 사용자는 깊이를 인지하고 환경의 제한된 공간에서 주변을 둘러 볼 수 있습니다. 이와 같이 공간에 가까운 개체가 있으면 현실감이 크게 커지고 가상 위치에서 사용자를 접지하는 데 도움이 됩니다. 

![패닉이 제거된 Pantheon 장면. 3D 자산으로 대체됩니다.](images/object-removal-pantheon-500px.png)

패닉이 제거된 Pantheon 장면. 3D 자산으로 대체됩니다.


## <a name="final-thoughts"></a>맺음말

물론 이 콘텐츠를 만드는 데는 여기서 설명한 것보다 더 많은 것이 있습니다. 몇 가지 장면을 "불가능한 관점"이라고 부르려고 합니다. 여기에는 더 창의적인 접근 방식을 사용했던 콜로세움의 열기구 승차 및 운석자가 포함됩니다. 이러한 내용은 향후 사례 연구에서 다루겠습니다.

프로덕션 중에 발생한 더 큰 문제 중 일부에 솔루션을 공유하는 것이 다른 개발자에게 도움이 되며, 이러한 기술 중 일부를 사용하여 HoloLens 위한 몰입형 환경을 만들도록 영감을 주시기 바랍니다. (그리고 그렇게 하는 경우 [HoloLens 앱 개발 포럼에서](https://forums.hololens.com/)공유하세요!)

## <a name="about-the-authors"></a>작성자 정보

<table style="border:0">
<tr>
<td style="border:0" width="60px"> <img alt="David Haley" width="60" height="60" src="images/haley.png" /></td>
<td style="border:0" width="408"> <b>David Thought는</b> HoloTour에서 작업할 때 생각한 것보다 카메라 조작 및 비디오 재생에 대해 자세히 학습한 선임 개발자입니다.</td>
<td style="border:0" width="60px"> <img alt="Danny Askew" width="60" height="60" src="images/askew.png" /></td>
<td style="border:0" width="408"> <b>Video Askew는</b> 로마를 통한 여정이 가능한 한 잘 만들어졌는지 확인하는 비디오 아티스트입니다.</td>
</tr>
<tr>
<td style="border:0" width="60px"> <img alt="Jason Syltebo" width="60" height="60" src="images/syltebo.png" /></td>
<td style="border:0" width="408"> <b>Jason Syltebo는</b> 시간을 되돌려도 방문하는 모든 대상의 사운드 스케이프를 경험할 수 있도록 하는 오디오 디자이너입니다.</td>
<td style="border:0" width="60px"> <img alt="Travis Steiner" width="60" height="60" src="images/steiner.png" /></td>
<td style="border:0" width="408"> <b>이</b> 디렉터는 위치를 연구 및 정찰하고, 여행 계획을 만들고, 사이트에서 영화를 감독하는 디자인 디렉터입니다.</td>
</tr>
</table>



## <a name="see-also"></a>추가 정보
* [비디오: Microsoft HoloLens: HoloTour](https://www.youtube.com/watch?v=pLd9WPlaMpY)
